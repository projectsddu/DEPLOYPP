"use strict";(self.webpackChunkjenil_keval_rikin_template=self.webpackChunkjenil_keval_rikin_template||[]).push([[1768],{41768:function(e,t,n){n.r(t);var s=n(70885),r=n(15861),a=n(1413),i=n(4942),o=n(87757),l=n.n(o),d=n(72791),c=n(91523),u=n(93065),h=n(14872),g=n(56960),p=n(18172),x=n(58173),m=n(5068),f=n(46645),Z=n(79366),j=n(71217),w=n(78420),v=n(44807),P=n(36574),y=n(89426),C=n(79976),k=n(55477),b=n(54677),I=n(74569),O=n.n(I),S=n(33881),_=n(87225),A=n(35568),W=(n(63367),n(98393),n(34363)),H=n(79271),N=n(71900),T=n(30859),z=n(80184);t.default=function(){var e=(0,x.Z)((function(e){return{redButton:(0,i.Z)({fontSize:"1rem",fontWeight:500,backgroundColor:e.palette.grey[50],border:"1px solid",borderColor:e.palette.grey[100],color:e.palette.grey[700],textTransform:"none","&:hover":{backgroundColor:e.palette.primary.light}},e.breakpoints.down("sm"),{fontSize:"0.875rem"}),signDivider:{flexGrow:1},signText:{cursor:"unset",margin:e.spacing(2),padding:"5px 56px",borderColor:e.palette.grey[100]+" !important",color:e.palette.grey[900]+"!important",fontWeight:500},loginIcon:(0,i.Z)({marginRight:"16px"},e.breakpoints.down("sm"),{marginRight:"8px"}),loginInput:(0,a.Z)({},e.typography.customInput)}})),t=e(),n=(0,H.useHistory)(),o=(0,d.useState)({studentId:"",otp:"",newPassword:"",confirmNewPassword:""}),I=(0,s.Z)(o,2),F=I[0],D=I[1],L=(0,d.useState)({state:"stud_id"}),E=(0,s.Z)(L,2),R=E[0],B=E[1],M=(0,v.Z)(),U=(0,P.Z)(M.breakpoints.down("sm")),V=(0,d.useState)(!1),G=(0,s.Z)(V,2),q=G[0],J=G[1],K=function(){var e=(0,r.Z)(l().mark((function e(){var t,s,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,10!=F.studentId.length){e.next=12;break}return t="/studentLogin/sendOtp/"+F.studentId,e.next=5,O().post(t);case 5:s=e.sent,r={data:s.data,HandleToast:{toast:g.Am,flag:!1}},"Login using first time password!"==s.data.data&&n.push("/_student/login/"),s.data.status&&B({state:"verifyOtp"}),(0,p.Z)(r,1),e.next=13;break;case 12:g.Am.error("Enter a valid student ID");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/studentLogin/verifyOtp/"+F.studentId,e.next=4,(0,W.Z)(t,F,"POST");case 4:n=e.sent,s={data:n,HandleToast:{toast:g.Am,flag:!1}},n.status&&B({state:"changePassword"}),(0,p.Z)(s,1),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();function X(){return(X=(0,r.Z)(l().mark((function e(){var t,s,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Here"),B({state:"changingPassword"}),t="/studentLogin/forgotChangePassword",console.log("Here",t),e.next=7,(0,W.Z)(t,F,"POST");case 7:s=e.sent,console.log("Here","Respinse sent"),r={data:s,HandleToast:{toast:g.Am,flag:!1}},console.log(s),s.status?B({state:"passwordChanged"}):g.Am.error("Please try again."),n.push("/_student/login"),(0,p.Z)(r,1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.toString());case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return(0,z.jsx)(S.Z,{children:(0,z.jsx)(y.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"95vh"},children:(0,z.jsx)(y.ZP,{item:!0,xs:12,children:(0,z.jsx)(y.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,z.jsx)(y.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,z.jsx)(A.Z,{children:(0,z.jsxs)(y.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,z.jsx)(y.ZP,{style:{marginLeft:"-8%"},item:!0,sx:{mb:3},children:(0,z.jsx)(c.rU,{to:"#",children:(0,z.jsx)(_.Z,{})})}),(0,z.jsx)(y.ZP,{item:!0,xs:12,children:(0,z.jsx)(y.ZP,{container:!0,direction:U?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,z.jsx)(y.ZP,{item:!0,children:(0,z.jsxs)(C.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,z.jsx)(k.Z,{color:M.palette.grey,gutterBottom:!0,variant:U?"h3":"h2",children:"Dharmsinh Desai University"}),(0,z.jsx)(k.Z,{variant:"caption",fontSize:"16px",textAlign:U?"center":"",children:"Forgot your password. We'll change it for you                                                    "})]})})})}),(0,z.jsxs)(y.ZP,{item:!0,xs:12,children:[(0,z.jsxs)(m.Z,{fullWidth:!0,className:t.loginInput,children:[(0,z.jsx)(f.Z,{htmlFor:"outlined-adornment-email-login",children:"Student ID"}),(0,z.jsx)(u.Z,{value:F.studentId,onChange:function(e){D((0,a.Z)((0,a.Z)({},F),{},{studentId:e.target.value}))},disabled:"stud_id"!=R.state,inputProps:{classes:{notchedOutline:t.notchedOutline}},endAdornment:"stud_id"!=R.state&&(0,z.jsx)(Z.Z,{position:"end",children:(0,z.jsx)(j.Z,{edge:"end",children:(0,z.jsx)(w.Z,{})})})})]}),"stud_id"==R.state?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("br",{}),(0,z.jsx)("br",{}),(0,z.jsx)(h.Z,{onClick:function(){return K()},fullWidth:!0,variant:"contained",size:"large",children:"Verify Student Id"})]}):"","verifyOtp"==R.state||"changePassword"==R.state||"changingPassword"==R.state||"passwordChanged"==R.state?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(m.Z,{fullWidth:!0,className:t.loginInput,children:[(0,z.jsx)(f.Z,{htmlFor:"outlined-adornment-email-login",children:"Enter OTP"}),(0,z.jsx)(u.Z,{value:F.otp,onChange:function(e){D((0,a.Z)((0,a.Z)({},F),{},{otp:e.target.value}))},disabled:"verifyOtp"!=R.state,inputProps:{classes:{notchedOutline:t.notchedOutline}},endAdornment:"verifyOtp"!=R.state&&(0,z.jsx)(Z.Z,{position:"end",children:(0,z.jsx)(j.Z,{edge:"end",children:(0,z.jsx)(w.Z,{})})})})]}),"verifyOtp"==R.state?(0,z.jsx)(h.Z,{onClick:function(){return Q()},fullWidth:!0,variant:"contained",size:"large",children:"Verify  OTP"}):""]}):"","changePassword"==R.state||"changingPassword"==R.state||"passwordChanged"==R.state?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(m.Z,{fullWidth:!0,className:t.loginInput,children:[(0,z.jsx)(f.Z,{htmlFor:"outlined-adornment-email-login",children:"Enter New Password"}),(0,z.jsx)(u.Z,{type:q?"text":"password",value:F.newPassword,onChange:function(e){D((0,a.Z)((0,a.Z)({},F),{},{newPassword:e.target.value}))},disabled:"changePassword"!=R.state,inputProps:{classes:{notchedOutline:t.notchedOutline}},endAdornment:"changePassword"!=R.state&&(0,z.jsx)(j.Z,{"aria-label":"toggle password visibility",onClick:function(){J(!q)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:"changePassword"==R.state?q?(0,z.jsx)(N.Z,{}):(0,z.jsx)(T.Z,{}):(0,z.jsx)(w.Z,{})})})]}),(0,z.jsxs)(m.Z,{fullWidth:!0,className:t.loginInput,children:[(0,z.jsx)(f.Z,{htmlFor:"outlined-adornment-email-login",children:"Confirm New Password"}),(0,z.jsx)(u.Z,{type:q?"text":"password",value:F.confirmNewPassword,onChange:function(e){D((0,a.Z)((0,a.Z)({},F),{},{confirmNewPassword:e.target.value}))},disabled:"changePassword"!=R.state,inputProps:{classes:{notchedOutline:t.notchedOutline}},endAdornment:"changePassword"!=R.state&&(0,z.jsx)(Z.Z,{position:"end",children:(0,z.jsx)(j.Z,{edge:"end",children:(0,z.jsx)(w.Z,{})})})})]})]}):"","changePassword"==R.state?(0,z.jsx)(h.Z,{fullWidth:!0,variant:"contained",size:"large",onClick:function(){return function(){return X.apply(this,arguments)}()},children:"Change Password"}):""]}),(0,z.jsx)(y.ZP,{item:!0,xs:12,children:(0,z.jsx)(b.Z,{})})]})})})})})})})}},78420:function(e,t,n){var s=n(95318);t.Z=void 0;var r=s(n(44894)),a=n(80184),i=(0,r.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=i}}]);
//# sourceMappingURL=1768.cb8d5c24.chunk.js.map